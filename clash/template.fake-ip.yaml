# è®¢é˜…ç«™æ¨¡æ¿ï¼šç”± scripts/generate_clash_rules.py è‡ªåŠ¨ç”Ÿæˆã€‚
# è¯´æ˜ï¼š
# 1) `__PROXY_PROVIDERS__` ä¸ `__PROXY_NODES__` ç”±è®¢é˜…ç«™åœ¨æ¸²æŸ“é˜¶æ®µæ›¿æ¢ã€‚
# 2) è‡ªå®šä¹‰è§„åˆ™é¡ºåºæ¥è‡ª custom_routing_rulesï¼Œå¹¶æŒ‰åŸ enabled çŠ¶æ€è¾“å‡ºã€‚
# 3) æœ«å°¾ MATCH å›ºå®šä½¿ç”¨â€œæ¼ç½‘ç­–ç•¥â€ç»„ï¼Œæ–¹ä¾¿åœ¨å®¢æˆ·ç«¯ä¸€é”®åˆ‡æ¢ç›´è¿/ä»£ç†ã€‚
# 4) å½“å‰æ¨¡æ¿æ¡£ä½ï¼šcompatã€‚

port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
dns:
  enable: true
  ipv6: true
  respect-rules: true
  enhanced-mode: fake-ip
  nameserver:
    - https://120.53.53.53/dns-query
    - https://223.5.5.5/dns-query
  proxy-server-nameserver:
    - https://120.53.53.53/dns-query
    - https://223.5.5.5/dns-query
  nameserver-policy:
    geosite:cn,private:
      - https://120.53.53.53/dns-query
      - https://223.5.5.5/dns-query
    geosite:geolocation-!cn:
      - https://dns.cloudflare.com/dns-query
      - https://dns.google/dns-query
  fake-ip-filter:
    - "localhost"
    - "*.localhost"
    - "*.local"
    - "*.localdomain"
    - "*.lan"
    - "*.home.arpa"
    - "*.internal"
    - "*.test"
    - "host.docker.internal"
    - "gateway.docker.internal"
    - "*.docker.internal"
    - "kubernetes.default.svc"
    - "*.svc"
    - "*.svc.cluster.local"
    - "*.in-addr.arpa"
    - "*.ip6.arpa"
    - "wpad"
    - "stun.*.*.*"
    - "stun.*.*"
    - "*.*.*.srv.nintendo.net"
    - "*.*.stun.playstation.net"
    - "*.*.xboxlive.com"
    - "xbox.*.*.microsoft.com"
    - "speedtest.cros.wr.pvp.net"
    - "pool.ntp.org"
    - "*.ntp.org"
    - "*.ntp.org.cn"
    - "*.openwrt.pool.ntp.org"
    - "ntp.aliyun.com"
    - "ntp.ubuntu.com"
    - "ntp1.aliyun.com"
    - "ntp2.aliyun.com"
    - "ntp3.aliyun.com"
    - "ntp4.aliyun.com"
    - "ntp5.aliyun.com"
    - "ntp6.aliyun.com"
    - "ntp7.aliyun.com"
    - "time.windows.com"
    - "time.nist.gov"
    - "time.ustc.edu.cn"
    - "time1.cloud.tencent.com"
    - "time.apple.com"
    - "time.asia.apple.com"
    - "time1.apple.com"
    - "time2.apple.com"
    - "time3.apple.com"
    - "time4.apple.com"
    - "time5.apple.com"
    - "time6.apple.com"
    - "time7.apple.com"
    - "*.time.apple.com"
    - "time.google.com"
    - "time1.google.com"
    - "time2.google.com"
    - "time3.google.com"
    - "time4.google.com"
    - "*.time.google.com"
    - "*.time.edu.cn"
    - "*.ipv6.microsoft.com"
    - "*.msftconnecttest.com"
    - "*.msftncsi.com"
proxies: null
proxy-groups:
  - name: ğŸš€ æ‰‹åŠ¨é€‰æ‹©
    type: select
    include-all: true
    include-all-proxies: true
    include-all-providers: true
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - __PROXY_PROVIDERS__
      - __PROXY_NODES__
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    include-all: true
    include-all-proxies: true
    include-all-providers: true
    proxies:
      - __PROXY_PROVIDERS__
      - __PROXY_NODES__
    url: https://cp.cloudflare.com/generate_204
    interval: 300
    tolerance: 50
  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
  - name: â›” å¼ºåˆ¶é˜»æ–­
    type: select
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸŸ æ¼ç½‘ç­–ç•¥
    type: select
    include-all: true
    include-all-proxies: true
    include-all-providers: true
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿
      - ğŸš€ æ‰‹åŠ¨é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - __PROXY_PROVIDERS__
      - __PROXY_NODES__
rules:
  # 01 Crack_æ‹¦æˆª
  - RULE-SET,custom-01-crack-block,â›” å¼ºåˆ¶é˜»æ–­
  # 02 BT_ç›´è¿
  - RULE-SET,custom-02-bt-direct,ğŸ¯ å…¨çƒç›´è¿
  # 03 IP_ä»£ç†
  - RULE-SET,custom-03-ip-proxy,ğŸš€ æ‰‹åŠ¨é€‰æ‹©
  # 04 IP_ç›´è¿
  - RULE-SET,custom-04-ip-direct,ğŸ¯ å…¨çƒç›´è¿
  # 05 Steam_ä»£ç†
  - RULE-SET,custom-05-steam-proxy,ğŸš€ æ‰‹åŠ¨é€‰æ‹©
  # 06 Steam_ç›´è¿
  - RULE-SET,custom-06-steam-direct,ğŸ¯ å…¨çƒç›´è¿
  # 07 åŸŸå_ç›´è¿
  - RULE-SET,custom-07-domain-direct,ğŸ¯ å…¨çƒç›´è¿
  # 08 åŸŸå_ä»£ç†
  - RULE-SET,custom-08-domain-proxy,ğŸš€ æ‰‹åŠ¨é€‰æ‹©
  # 09 å¹¿å‘Š_ç±»åˆ«_æ‹¦æˆª
  # åŸè§„åˆ™ enabled=falseï¼Œé»˜è®¤ä¿æŒç¦ç”¨ã€‚
  # - RULE-SET,custom-09-ads-category-block,â›” å¼ºåˆ¶é˜»æ–­
  # 10 åŸŸå_ç±»åˆ«_ç›´è¿
  - RULE-SET,custom-10-domain-category-direct,ğŸ¯ å…¨çƒç›´è¿
  # 11 åŸŸå_åŒºåŸŸ_ç›´è¿
  - RULE-SET,custom-11-domain-region-direct,ğŸ¯ å…¨çƒç›´è¿
  # 12 IP_åŒºåŸŸ_ç›´è¿
  - RULE-SET,custom-12-ip-region-direct,ğŸ¯ å…¨çƒç›´è¿
  # 13 åŸŸå_ç±»åˆ«_ä»£ç†
  - RULE-SET,custom-13-domain-category-proxy,ğŸš€ æ‰‹åŠ¨é€‰æ‹©
  # 14 IP_ç±»åˆ«_ä»£ç†
  - RULE-SET,custom-14-ip-category-proxy,ğŸš€ æ‰‹åŠ¨é€‰æ‹©
  # 15 åŸŸå_åŒºåŸŸ_ä»£ç†
  - RULE-SET,custom-15-domain-region-proxy,ğŸš€ æ‰‹åŠ¨é€‰æ‹©
  # 16 ç«¯å£_å…¨éƒ¨_ç›´è¿
  - MATCH,ğŸŸ æ¼ç½‘ç­–ç•¥
rule-providers:
  custom-01-crack-block:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/01-crack-block.yaml
    path: ./providers/custom/01-crack-block.yaml
    interval: 86400
  custom-02-bt-direct:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/02-bt-direct.yaml
    path: ./providers/custom/02-bt-direct.yaml
    interval: 86400
  custom-03-ip-proxy:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/03-ip-proxy.yaml
    path: ./providers/custom/03-ip-proxy.yaml
    interval: 86400
  custom-04-ip-direct:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/04-ip-direct.yaml
    path: ./providers/custom/04-ip-direct.yaml
    interval: 86400
  custom-05-steam-proxy:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/05-steam-proxy.yaml
    path: ./providers/custom/05-steam-proxy.yaml
    interval: 86400
  custom-06-steam-direct:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/06-steam-direct.yaml
    path: ./providers/custom/06-steam-direct.yaml
    interval: 86400
  custom-07-domain-direct:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/07-domain-direct.yaml
    path: ./providers/custom/07-domain-direct.yaml
    interval: 86400
  custom-08-domain-proxy:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/08-domain-proxy.yaml
    path: ./providers/custom/08-domain-proxy.yaml
    interval: 86400
  custom-10-domain-category-direct:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/10-domain-category-direct.yaml
    path: ./providers/custom/10-domain-category-direct.yaml
    interval: 86400
  custom-11-domain-region-direct:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/11-domain-region-direct.yaml
    path: ./providers/custom/11-domain-region-direct.yaml
    interval: 86400
  custom-12-ip-region-direct:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/12-ip-region-direct.yaml
    path: ./providers/custom/12-ip-region-direct.yaml
    interval: 86400
  custom-13-domain-category-proxy:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/13-domain-category-proxy.yaml
    path: ./providers/custom/13-domain-category-proxy.yaml
    interval: 86400
  custom-14-ip-category-proxy:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/14-ip-category-proxy.yaml
    path: ./providers/custom/14-ip-category-proxy.yaml
    interval: 86400
  custom-15-domain-region-proxy:
    type: http
    behavior: classical
    format: yaml
    url: https://raw.githubusercontent.com/novcky/v2rayCustomRoutingList/main/clash/rules/15-domain-region-proxy.yaml
    path: ./providers/custom/15-domain-region-proxy.yaml
    interval: 86400
